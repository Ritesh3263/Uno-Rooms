<!-- Search Header -->
    <!-- <h1 *ngFor="let hotel of hotels">{{ hotel.name }} - {{ hotel.location }}</h1> -->
<div class="bg-white shadow-sm border-t">
    <div class="max-w-7xl mx-auto px-4 py-4">
        <div class="flex items-center space-x-4 text-gray-500">
            <div class="flex flex-1 items-center relative custom-autocomplete">

                <input [(ngModel)]="searchLocation" matInput [formControl]="cityControl" [matAutocomplete]="auto" (ngModelChange)="updateFilters()" type="text" placeholder="Search destinations" 
                    class=" space-x-2 cursor-pointer bg-gray-100 text-gray-500 rounded-l-full py-2 px-10  border-none focus:outline-none flex-1 focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all outline-none"
                >
                <mat-autocomplete #auto="matAutocomplete" panelWidth="200px" panelClass="custom-autocomplete">
                    <mat-option *ngFor="let city of filteredCities$ | async" [value]="city">
                      {{ city }}
                    </mat-option>
                </mat-autocomplete>


                <div class="absolute h-auto w-3.5 inset-y-0 left-2 flex items-center pointer-events-none text-gray-500" >
                    <svg class="w-4 h-4" fill="#f97316" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg>
                </div>
                <button (click)="updateFilters()" class="relative w-12 h-10 self-center cursor-pointer bg-orange-500 hover:bg-orange-400 justify-center rounded-r-full flex items-center">
                    <mat-icon class="text-gray-100 ">east</mat-icon>
                </button>
            </div>

            <div class="flex items-center space-x-4">
                <button class="flex items-center">
                    <mat-form-field  (click)="picker.open()" class="custom-width bg-gray-100  rounded-full overflow-hidden h-10 focus-within:ring-2 focus-within:ring-orange-500 focus-within:border-transparent transition-all " subscriptSizing="dynamic">                        
                        <input [(ngModel)]="checkinDate" (ngModelChange)="updateFilters()" matInput [matDatepicker]="picker" placeholder="Choose a date" class="!text-gray-500" />
                        <!-- <mat-hint>MM/DD/YYYY</mat-hint> -->
                        <mat-icon matIconSuffix class="content-center">
                            <svg class="w-4 h-4" fill="#f97316" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                <path d="M352 96l64 0c17.7 0 32 14.3 32 32l0 256c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l64 0c53 0 96-43 96-96l0-256c0-53-43-96-96-96l-64 0c-17.7 0-32 14.3-32 32s14.3 32 32 32zm-9.4 182.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L242.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"/>
                            </svg>
                        </mat-icon>
                        <mat-datepicker #picker></mat-datepicker>
                    </mat-form-field>
                </button>
                <button class="flex items-center">
                    <mat-form-field  (click)="picker2.open()" class="custom-width bg-gray-100 rounded-full overflow-hidden h-10 focus-within:ring-2 focus-within:ring-orange-500 focus-within:border-transparent transition-all " subscriptSizing="dynamic">                        
                        <input [(ngModel)]="checkoutDate" (ngModelChange)="updateFilters()" matInput [matDatepicker]="picker2" placeholder="Choose a date" class="!text-gray-500"/>
                        <!-- <mat-hint>MM/DD/YYYY</mat-hint> -->
                        <mat-icon matIconSuffix class="content-center">
                            <svg class="w-4 h-4" fill="#f97316" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 192 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"/></svg>
                        </mat-icon>
                        <mat-datepicker #picker2></mat-datepicker>
                    </mat-form-field>
                </button>
                <button class="flex items-center relative w-fit">
                    <select [(ngModel)]="guests" (ngModelChange)="updateFilters()" class="space-x-2 pl-6 pr-8 py-2 bg-gray-100 appearance-none rounded-full text-gray-500 focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all outline-none">
                        <option value="1">1 Guest</option>
                        <option value="2">2 Guests</option>
                        <option value="3">3 Guests</option>
                        <option value="4">4+ Guests</option>
                    </select>
                    <div class="absolute inset-y-0 right-4 flex items-center pointer-events-none">
                        <svg class="w-4 h-4" fill="#f97316" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M432 96a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM347.7 200.5c1-.4 1.9-.8 2.9-1.2l-16.9 63.5c-5.6 21.1-.1 43.6 14.7 59.7l70.7 77.1 22 88.1c4.3 17.1 21.7 27.6 38.8 23.3s27.6-21.7 23.3-38.8l-23-92.1c-1.9-7.8-5.8-14.9-11.2-20.8l-49.5-54 19.3-65.5 9.6 23c4.4 10.6 12.5 19.3 22.8 24.5l26.7 13.3c15.8 7.9 35 1.5 42.9-14.3s1.5-35-14.3-42.9L505 232.7l-15.3-36.8C472.5 154.8 432.3 128 387.7 128c-22.8 0-45.3 4.8-66.1 14l-8 3.5c-32.9 14.6-58.1 42.4-69.4 76.5l-2.6 7.8c-5.6 16.8 3.5 34.9 20.2 40.5s34.9-3.5 40.5-20.2l2.6-7.8c5.7-17.1 18.3-30.9 34.7-38.2l8-3.5zm-30 135.1l-25 62.4-59.4 59.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L340.3 441c4.6-4.6 8.2-10.1 10.6-16.1l14.5-36.2-40.7-44.4c-2.5-2.7-4.8-5.6-7-8.6zM256 274.1c-7.7-4.4-17.4-1.8-21.9 5.9l-32 55.4L147.7 304c-15.3-8.8-34.9-3.6-43.7 11.7L40 426.6c-8.8 15.3-3.6 34.9 11.7 43.7l55.4 32c15.3 8.8 34.9 3.6 43.7-11.7l64-110.9c1.5-2.6 2.6-5.2 3.3-8L261.9 296c4.4-7.7 1.8-17.4-5.9-21.9z"/></svg>
                    </div>
                </button>
            </div>
        </div>
    </div>
</div>

<div class="max-w-7xl mx-auto px-4 py-8">
    <div class="flex gap-8">
        <!-- Filters Sidebar -->
        <div class="w-64 flex-shrink-0">
            <div class="bg-white text-gray-500 p-6 rounded-lg shadow-sm">
                <div class="flex items-center space-x-2 mb-6">
                    <svg class="w-4 h-4" fill="#f97316" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M3.9 54.9C10.5 40.9 24.5 32 40 32l432 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9 320 448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"/></svg>
                    <h2 class="font-semibold text-gray-700">Filters</h2>
                </div>

                <div class="space-y-6">
                    <div>
                        <h3 class="font-medium mb-3">Price Range</h3>
                        <input [(ngModel)]="selectedMaxPrice"  (input)="calculatePriceFilter()" type="range" [min]="minPriceHotel" [max]="maxPriceHotel" class="w-full h-2 bg-gray-300 rounded-lg cursor-pointer accent-orange-500 ">
                        <div class="flex justify-between text-sm text-gray-400">
                            <span>₹{{minPriceHotel}}</span>
                            <span>₹{{selectedMaxPrice}}</span>
                        </div>
                    </div>

                    <div>
                        <h3 class="font-medium mb-3">Amenities</h3>
                        <div *ngFor="let amenity of totalAmenities" class="space-y-2 gap-4">
                            <label class="flex items-center space-x-2">
                                <input (change)="toggleAmenityFilter(amenity.toLowerCase(), $event)" type="checkbox" class="rounded text-blue-600">
                                <span>{{ amenity }}</span>
                            </label>
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results -->
        <div class="flex-1">
            <div class="flex justify-between items-center mb-6">
                <h1 class="text-2xl font-semibold text-gray-700">{{hotels.length}} hotels found</h1>
                <div class="float-right flex items-center gap-2 relative space-x-2">
                
                    <label for="fullName" class="block text-sm font-medium text-gray-700 ml-2">
                        Sort by
                    </label>
                    
                    <select  class="flex items-center space-x-2 px-4 py-2 bg-white border rounded-full text-gray-500 appearance-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all outline-none">
                        <option value="1">Popularity</option>
                        <option value="2">Price: Low to High</option>
                        <option value="3">Price: High to Low</option>
                        <option value="4">Newest</option>
                        <option value="5">Rating: High to Low</option>
                        <option value="6">Rating: Low to High</option>
                        <option value="7">Distance: Closest</option>
                        <option value="8">Distance: Furthest</option>
                        <option value="9">Availability: Most Available</option>
                        <option value="10">Availability: Least Available</option>
                        <option value="11">Last Reviewed: Most Recent</option>
                        <option value="12">Last Reviewed: Oldest</option>
                    </select>
                    <div
                        class="absolute h-auto w-3 inset-y-0 right-4 flex items-center pointer-events-none text-gray-500"
                    >
                    <svg fill="#6b7280" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"/></svg>
                    </div>
                </div>
    
            </div>

            <div class="space-y-6">
                <!-- Hotel Card 1 -->
                <div *ngFor="let hotel of hotels" class="bg-white rounded-lg shadow-sm overflow-hidden">
                    <div class="flex">
                        <div class="w-72 flex-shrink-0">
                            <img src="https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&q=80&w=1000"
                                alt="Grand Plaza Hotel" class="w-full h-full object-cover">
                        </div>
                        <div class="flex-1 p-6">
                            <div class="flex justify-between items-start">
                                <div>
                                    <h2 class="text-xl font-semibold mb-2 text-gray-700">{{hotel.hotelname}}</h2>
                                    <div class="flex items-center space-x-2 text-gray-400 mb-4">
                                        <!-- <i class="fas fa-map-marker-alt w-4 h-4"></i> -->
                                        <!-- <svg class="w-3 h-3" fill="#4b5563" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.<path d="M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"/></svg> -->
                                        <span>{{hotel.hoteldescription}}</span>
                                    </div>
                                </div>
                                <div class="flex items-start space-x-1">
                                    <svg class="w-5 h-5" fill="#4b5563" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M309.5 13.5C305.5 5.2 297.1 0 287.9 0s-17.6 5.2-21.6 13.5L197.7 154.8 44.5 177.5c-9 1.3-16.5 7.6-19.3 16.3s-.5 18.1 5.9 24.5L142.2 328.4 116 483.9c-1.5 9 2.2 18.1 9.7 23.5s17.3 6 25.3 1.7l137-73.2 137 73.2c8.1 4.3 17.9 3.7 25.3-1.7s11.2-14.5 9.7-23.5L433.6 328.4 544.8 218.2c6.5-6.4 8.7-15.9 5.9-24.5s-10.3-14.9-19.3-16.3L378.1 154.8 309.5 13.5zM288 384.7l0-305.6 52.5 108.1c3.5 7.1 10.2 12.1 18.1 13.3l118.3 17.5L391 303c-5.5 5.5-8.1 13.3-6.8 21l20.2 119.6L299.2 387.5c-3.5-1.9-7.4-2.8-11.2-2.8z"/></svg>
                                    <span class="font-semibold text-gray-700">{{hotel.hotelrating}}</span>
                                </div>
                            </div>

                            <div class="flex flex-wrap gap-2 items-center mb-4">
                                <div *ngFor="let item of hotel.hotelamenities" class="flex gap-2 items-center text-gray-500 px-4 py-2 bg-gray-100 rounded-full">
                                    <img class="w-4 h-4" [src]="'assets/images/' + item.toLowerCase() + '.svg'">
                                    <span class="text-sm">{{item}}</span>
                                </div>
                            </div>

                            <div class="flex justify-between items-end">
                                <div>
                                    <span class="text-2xl font-bold text-gray-700">₹{{hotel.lowestprice}}</span>
                                    <span class="text-gray-400">/night</span>
                                </div>
                                <button (click)="openBookingDetails(hotel)" class="px-6 py-2 bg-orange-500 text-white rounded-full hover:bg-orange-400 transition-colors">
                                    View Details
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                
            </div>
        </div>
    </div>
</div>